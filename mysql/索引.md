####1、什么是索引
一种数据结构,能提高数据库的检索效率
####2、索引是什么结构
MySQL的索引主要为2种结构：Hash和B+Tree,InnoDB引擎索引的默认结构是B+Tree
####3、Hash与B+Tree的比较
Hash索引底层为哈希表,一种以key-value存储数据的结构,故数据在存储关系上完全是无序的,对于区间查询来说这索引就是无效的,需要全表扫描,
Hash索引仅适用于等值查询,而B+Tree是一种多路平衡查询树,其节点是有序的(左节点小于父节点,父节点小于右节点)

Hash索引还不支持多了联合索引的最左匹配规则,若有大量重复键值的情况下,Hash索引的效率会很低(因哈希碰撞)
####4、B+Tree叶子节点
InnoDB的B+Tree叶子节点存储了整行数据的是主键索引,也叫聚簇索引,而存储主键值的是非主键索引,也叫非聚簇索引
####5、聚簇索引和非聚簇索引的比较
聚簇索引树的叶子节点存储的是整行数据,而非聚簇索引存储的是主键值,需要再通过主键进行一次查询
####6、覆盖索引
并不是所有的非主键索引均需要查询多次,覆盖索引指一个查询语句的执行只用从索引中就能够取得,不必从数据表中读取,当一条查询语句符合覆盖索引时,
MySQL只需通过索引就可以返回数据,减少I/O提高效率.如表x中有个普通索引idx_k1_k2(k1,k2),select k2 from x where k1 = '123'时,就可以通过覆盖索引查询
####7、联合索引
建立联合索引时需注意多个字段间的顺序,将where子句中使用最频繁的一列放在最左边,因为MySQL索引查询时会遵循最左前缀匹配的原则,即从联合索引的最左边开始匹配,
所以当创建了一个联合索引如(k1,k2,k3)时,相当于创建了(k1),(k1,k2),(k1,k2,k3)3个索引
####8、索引下推
MySQL5.6中对索引进行了优化-Index Condition Pushdown(索引下推),如people表中(zipcode,lastname,firstname)构成一个索引,
SELECT * FROM people WHERE zipcode=‘95054’ AND lastname LIKE ‘%etrunia%’ AND address LIKE ‘%Main Street%’时,若没有索引下推,MySQL会通过
zipcode='95054'从存储引擎中查询对应的数据,然后再lastname LIKE '%etrunia%'和address LIKE '%Main Street%'来判断数据是否符合条件.
而若有索引下推,MySQL首先会返回符合zipcode='95054’的索引,然后根据lastname LIKE '%etrunia%'和address LIKE '%Main Street%'来判断索引是否符合条件,
符合条件时再根据索引获取数据,从而减少回表次数
####9、查询优化器
一条查询语句可以有不同的执行方案,查询优化器选择执行成本最低的方案,优化过程:
* 根据搜索条件找出所有可能使用的索引
* 计算全表扫描代价
* 计算使用不同索引执行查询代价
* 对比各方案,找出最小的